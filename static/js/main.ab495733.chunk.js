(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(t,e,i){},151:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),s=i(62),r=i.n(s),o=i(18),l=i(64),h=(i(70),i(63)),c=i.n(h),u=function(){return a.a.createElement("div",null,a.a.createElement("p",null,"Something went wrong :-("),a.a.createElement("p",null,"Make sure you have internet connection"))},d=function(t){return a.a.createElement("article",{className:"designer"},a.a.createElement("div",null,a.a.createElement("img",{className:"designer-portrait",alt:"".concat(t.designer.name,"'s portrait"),src:t.designer.picture.large}),a.a.createElement("h2",{className:"designer-name"},t.designer.name),a.a.createElement("h3",{className:"designer-title"},t.designer.title),a.a.createElement("p",{className:"designer-bio"},t.designer.bio)),a.a.createElement("footer",{className:"designer-info"},a.a.createElement("span",null,"\ud83d\udef5"),a.a.createElement("a",{className:"designer-link margin-right-big"},"Site"),a.a.createElement("span",null,"\ud83d\udef5"),a.a.createElement("a",{className:"designer-link"},"Contact")))},f=(i(71),function(t){var e=t.designers.map(function(t){return a.a.createElement(d,{key:t.name,designer:t})});return a.a.createElement("div",{className:"horizontal-list padding-vertical-regular"},e)}),m=i(33),p=i.n(m);i(145);p.a.initializeApp({apiKey:"AIzaSyDLY5aN9YTOBwzUQs_43O33D8OHlkdgjZM",authDomain:"designers-in-vietnam.firebaseapp.com",databaseURL:"https://designers-in-vietnam.firebaseio.com",messagingSenderId:"84445525179",projectId:"designers-in-vietnam",storageBucket:"designers-in-vietnam.appspot.com"});var g=p.a.firestore(),v=function(){var t=function(){function t(t,e,i,n,a,s,r,o){this.x=t||0,this.y=e||0,void 0!==i&&(this.color=i),void 0!==n&&(this.size=n),void 0!==a&&(this.inkAmount=a),void 0!==s&&(this.angle=s),void 0!==r&&(this.dripping=r),void 0!==o&&(this.splashing=o),this._drops=[],this._resetTip()}function e(t,e,i,n){this.x=t||0,this.y=e||0,this.inkAmount=i,this.color=n,this._latestPos={x:this.x,y:this.y}}function i(t,e,i,n,a){this.x=t||0,this.y=e||0,this.size=i,this.color=n,this.strokeId=a,this.life=1.5*this.size,this._latestPos={x:this.x,y:this.y}}return t.prototype={_SPLASHING_BRUSH_SPEED:75,angle:0,x:0,y:0,color:"#000",size:35,inkAmount:7,splashing:!0,dripping:!0,maxHairs:1e3,_latestPos:null,_strokeId:null,_drops:null,isStroke:function(){return Boolean(this._strokeId)},startStroke:function(){this.isStroke()||(this._resetTip(),this._strokeId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e;return e=16*Math.random()|0,("x"===t?e:3&e|8).toString(16)}))},endStroke:function(){this._strokeId=this._latestPos=null},render:function(t,e,n){var a,s,r,o,l=this.isStroke();if(this._latestPos||(this._latestPos={}),this._latestPos.x=this.x,this._latestPos.y=this.y,this.x=e,this.y=n,this._drops.length){var h,c=this._drops,u=this.size*this.size;for(r=0,o=c.length;r<o;r++)h=c[r],a=this.x-h.x,s=this.y-h.y,l&&u>a*a+s*s&&this._strokeId!==h.strokeId||h.life<=0?(c.splice(r,1),o--,r--):h.render(t)}if(l){var d,f=this._tip;if(this._strokeId,a=this.x-this._latestPos.x,s=this.y-this._latestPos.y,d=Math.sqrt(a*a+s*s),this.splashing&&d>this._SPLASHING_BRUSH_SPEED){var m,p,g,v,x,y=.5*(d-this._SPLASHING_BRUSH_SPEED)|0;for(t.save(),t.fillStyle=this.color,t.beginPath(),r=0,o=y*Math.random()|0;r<o;r++)m=(d-1)*Math.random()+1,p=2*Math.PI*Math.random(),g=5*Math.random(),v=this.x+m*Math.sin(p),x=this.y+m*Math.cos(p),t.moveTo(v+g,x),t.arc(v,x,g,0,2*Math.PI,!1);t.fill(),t.restore()}else this.dripping&&d<2*this.inkAmount&&Math.random()<.05&&this._drops.push(new i(this.x,this.y,.5*(this.size+this.inkAmount)*(.15*Math.random()+.1),this.color,this._strokeId));for(r=0,o=f.length;r<o;r++)f[r].render(t,a,s,d)}},dispose:function(){this._tip.length=this._drops.length=0},_resetTip:function(){var t,i,n,a,s,r,o,l,h,c,u=this._tip=[],d=.5*this.size;for(r=this.angle,(c=d*d*Math.PI/this.inkAmount|0)<1&&(c=1),c>this.maxHairs&&(c=this.maxHairs),h=0;h<c;h++)i=.5*(t=d*Math.random()),n=2*Math.PI*Math.random(),a=t*Math.sin(n),s=i*Math.cos(n),o=Math.cos(r),l=Math.sin(r),u.push(new e(this.x+a*o-s*l,this.y+a*l+s*o,this.inkAmount,this.color))}},e.prototype={x:0,y:0,inkAmount:7,color:"#000",_latestPos:null,render:function(t,e,i,n){this._latestPos.x=this.x,this._latestPos.y=this.y,this.x+=e,this.y+=i;var a=n?this.inkAmount/n:0;a>1?a=1:a<0&&(a=0),t.save(),t.lineCap=t.lineJoin="round",t.strokeStyle=this.color,t.lineWidth=this.inkAmount*a,t.beginPath(),t.moveTo(this._latestPos.x,this._latestPos.y),t.lineTo(this.x,this.y),t.stroke(),t.restore()}},i.prototype={x:0,y:0,size:7,color:"#000",strokeId:null,life:0,_latestPos:null,_xOffRatio:0,render:function(t){Math.random()<.03?this._xOffRatio+=.06*Math.random()-.03:Math.random()<.1&&(this._xOffRatio*=.003),this._latestPos.x=this.x,this._latestPos.y=this.y,this.x+=this.life*this._xOffRatio,this.y+=.5*this.life*Math.random(),this.life-=.04*Math.random()+.01,t.save(),t.lineCap=t.lineJoin="round",t.strokeStyle=this.color,t.lineWidth=this.size+.3*this.life,t.beginPath(),t.moveTo(this._latestPos.x,this._latestPos.y),t.lineTo(this.x,this.y),t.stroke(),t.restore(),t.restore()}},t}(),e={obj:function(t){return Object.prototype.toString.call(t).indexOf("Object")>-1},num:function(t){return"number"===typeof t},str:function(t){return"string"===typeof t},fnc:function(t){return"function"===typeof t},und:function(t){return"undefined"===typeof t}};function i(t,i,n){e.fnc(t)&&t.call(i,n)}function n(t,e){for(var i in e)t[i]=e[i];return t}function a(t,e){t||(t={});for(var i=1;i<arguments.length;i++)n(t,arguments[i]);return t}function s(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))}}function r(t){t.el&&(t.width=t.el.offsetWidth,t.height=t.el.offsetHeight,function(t){var e=t.el.getBoundingClientRect(),i=t.root.getBoundingClientRect();t.top=e.top-i.top,t.left=e.left-i.left}(t));var e,i=document.createElement("canvas");i.style.position="absolute",i.style.top=t.top+"px",i.style.left=t.left+"px",i.width=t.width,i.height=t.height,i.style.visibility="hidden",t.canvas=i,t.ctx=i.getContext("2d"),e=t.root,"static"===getComputedStyle(e).getPropertyValue("position")&&(e.style.position="relative"),t.root.appendChild(t.canvas)}function o(t){this.defaults={animation:"to-bottom",path:void 0,points:void 0,frameAnimation:!1,frames:0,duration:0,delay:0,color:"#ccc",width:300,height:120,size:40,inkAmount:1,lifting:!1,dripping:!1,splashing:!0,padding:30,overlap:10,tension:.5,reduceOverflow:20,root:document.body,el:void 0,image:void 0,repeat:"no-repeat",stretch:!1,centered:!1,queue:!1},this.init(t)}return o.prototype={init:function(t){var i=a(this.defaults,t);e.str(i.root)&&(i.root=document.querySelector(i.root)),e.str(i.el)&&(i.el=document.querySelector(i.el)),r(i);var n=s();this.promise=n.promise,n.resolve()},run:function(t){var e=this;function n(){t.canvas.style.visibility="visible",t.render?e.render(t):i(e.animations[t.animation],e,t)}if(t.clear)t.ctx.clearRect(0,0,t.width,t.height),t.d.resolve();else if(t.el)t.pattern&&n();else if(t.image){var a=new Image;a.onload=function(){(t.stretch||t.centered)&&(a=function(t,e){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var n=i.getContext("2d");if(e.stretch)n.drawImage(t,0,0,e.width,e.height);else{var a=t.width,s=t.height,r=e.width/2-a/2,o=e.height/2-s/2;n.drawImage(t,r,o,a,s)}return i}(a,t)),t.fill?(t.ctx.drawImage(a,0,0,t.width,t.height),t.d.resolve()):(t.pattern=t.ctx.createPattern(a,t.repeat),n())},a.src=t.image}else n()},draw:function(t){var e=this,i=a({},this.defaults,t),n=function(){var t=s();return e.run(a(i,{d:t})),t.promise};i.queue?this.promise=this.promise.then(n):n()},erase:function(t){this.draw(a({},t,{erase:!0}))},fill:function(t){this.draw(a({},t,{fill:!0}))},clear:function(t){this.draw(a({},t,{clear:!0}))},setPath:function(t){var i=t.path;e.str(i)&&((i=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",t.path),t.path=i),t.pathLenght=i.getTotalLength()},pointAt:function(t,e){switch(e.animation){case"points":var i=e.points,n=i.length,a=2*Math.round(n*t/2);return a>=n&&(a=n-2),{x:i[a],y:i[a+1]};case"path":return e.path.getPointAtLength(e.pathLenght*t);default:return null}},setPos:function(t,e){var i=!e;switch(i&&(e={}),t.direction){case"bottom":e.startY=i?t.padding:e.startY+t.size-t.overlap,this.setPosBottomTop(t,e,i);break;case"top":e.startY=i?t.height-t.padding:e.startY-t.size+t.overlap,this.setPosBottomTop(t,e,i);break;case"right":e.startX=i?t.padding:e.startX+t.size-t.overlap,this.setPosRightLeft(t,e,i);break;case"left":e.startX=i?t.width-t.padding:e.startX-t.size+t.overlap,this.setPosRightLeft(t,e,i)}return e},setPosBottomTop:function(t,e,i){var n;i?e.vertical=!0:n=e.startX,e.startX=i?t.padding:e.x,e.x=i?t.width-t.padding:n,e.y=e.startY},setPosRightLeft:function(t,e,i){var n;i?e.vertical=!1:n=e.startY,e.x=e.startX,e.startY=i?t.padding:e.y,e.y=i?t.height-t.padding:n},render:function(n){if(!e.und(n.duration)||!e.und(n.frames)){var a=this;if(n.delay){var s=n.delay;return delete n.delay,void setTimeout(function(){a.render(n)},1e3*s)}n.erase&&(n.ctx.globalCompositeOperation="destination-out");var r,o,l,h,c=1,u=0,d=0,f=new Date;e.und(n.startX)||(u=n.startX),e.und(n.startY)||(d=n.startY);var m=new t(u,d,n.pattern||n.color,n.size,n.inkAmount,n.angle,n.dripping,n.splashing);m.startStroke(u,d),i(n.begin),n.frameAnimation&&n.duration&&(n.frames||(n.frames=60*parseFloat(n.duration)),delete n.duration),function t(){n.duration?(r=(new Date-f)/1e3,o=r/parseFloat(n.duration)):o=c/parseFloat(n.frames),l=o,e.fnc(n.easing)&&(l=n.easing(l)),o>1&&(l=1),(h=a.pointAt(l,n))||(h={x:u+(n.x-u)*l,y:d+(n.y-d)*l}),u=h.x,d=h.y,m.render(n.ctx,u,d),o>=1?(m.endStroke(),n.erase&&(n.ctx.globalCompositeOperation="source-over"),i(n.end),n.d.resolve()):n.duration?requestAnimationFrame(t):(c++,n.frameAnimation?requestAnimationFrame(t):t())}()}},animations:{"to-bottom":function(t){i(this.animations.basic,this,a(t,{direction:"bottom"}))},"to-top":function(t){i(this.animations.basic,this,a(t,{direction:"top"}))},"to-right":function(t){i(this.animations.basic,this,a(t,{direction:"right"}))},"to-left":function(t){i(this.animations.basic,this,a(t,{direction:"left"}))},basic:function(t){var e,n,s,r=this.setPos(t),o=Math.ceil(((r.vertical?t.height:t.width)+t.size/2-2*t.padding)/(t.size-t.overlap)),l=r.vertical?.5*Math.PI:0,h=t.duration/o,c=t.frames/o,u=[],d=!0,f=t.reduceOverflow;function m(t,e){0===e&&(r[t]=r[t]-f),1===e&&(r[t]=r[t]+f),e===o-1&&(r[t]=d?r[t]+f:r[t]-f)}for(var p=0;p<o;p++)t.lifting?(n=0===p,s=p===o-1,e=a({},t,r,{duration:h,frames:c,angle:l,render:!0,queue:!0}),n||(e.begin=null),s||(e.end=null),this.draw(e)):(f&&(r.vertical?m("x"):m("y")),u.push(r.startX,r.startY,r.x,r.y)),this.setPos(t,r),d=!d;t.lifting?t.d.resolve():i(this.animations.points,this,a(t,{animation:"points",points:u,angle:l}))},path:function(t){this.setPath(t);var e=this.pointAt(0,t);this.render(a(t,{startX:e.x,startY:e.y}))},points:function(t){var i=t.points||0;i=e.num(i)?function(t,e,i){for(var n=t||10,a=[],s=0;s<n;s++)a.push(e*Math.random()*.9+.05*e|0,i*Math.random()*.9+.05*i|0);return a}(i,t.width,t.height):i,i=function(t,e,i,n){e="number"===typeof e?e:.5,i="number"===typeof i?i:25;var a,s=1,r=t.length,o=0,l=new Float32Array((r-2)*i+2+(n?2*i:0)),h=new Float32Array(4*(i+2)),c=4;for(a=t.slice(0),n?(a.unshift(t[r-1]),a.unshift(t[r-2]),a.push(t[0],t[1])):(a.unshift(t[1]),a.unshift(t[0]),a.push(t[r-2],t[r-1])),h[0]=1;s<i;s++){var u=s/i,d=u*u,f=d*u,m=2*f,p=3*d;h[c++]=m-p+1,h[c++]=p-m,h[c++]=f-2*d+u,h[c++]=f-d}function g(t,e,n,a){for(var s,r=2;r<n;r+=2){var h=t[r],c=t[r+1],u=t[r+2],d=t[r+3],f=(u-t[r-2])*a,m=(d-t[r-1])*a,p=(t[r+4]-h)*a,g=(t[r+5]-c)*a,v=0,x=void 0,y=void 0,w=void 0,b=void 0;for(s=0;s<i;s++)x=e[v++],y=e[v++],w=e[v++],b=e[v++],l[o++]=x*h+y*u+w*f+b*p,l[o++]=x*c+y*d+w*m+b*g}}return h[++c]=1,g(a,h,r,e),n&&((a=[]).push(t[r-4],t[r-3],t[r-2],t[r-1],t[0],t[1],t[2],t[3]),g(a,h,4,e)),r=n?0:t.length-2,l[o++]=t[r++],l[o]=t[r],l}(i,t.tension),this.render(a(t,{points:i,startX:i[0],startY:i[1]}))}}},o}(),x=(i(150),function(t){var e=document.getElementById(t),i=100,n=100;return e&&(e.getBoundingClientRect(),i=e.offsetHeight,n=e.offsetWidth),{width:n,height:i}}),y=Object(n.memo)(function(t){var e="".concat(t.tag.name,"-tag"),i=Object(n.useRef)(null),s=Object(n.useRef)(null);Object(n.useEffect)(function(){var t=x(e),n=t.width,a=t.height;if(i.current){var r={animation:"points",color:"#F5A623",duration:.1,height:a,inkAmount:3,padding:8,points:4,queue:!0,root:i.current,size:10,width:n};s.current=new v(r)}},[]),Object(n.useEffect)(function(){if(s.current||(s.current=new v),t.isSelected){var i=x(e),n=i.width,a=i.height;s.current.clear(),s.current.draw(),s.current.draw({animation:"points",color:"#F5A623",duration:.1,points:[12,a/2,n-12,a/2]})}},[t.isSelected]);var r=Object(n.useCallback)(function(){t.onClick(t.tag)},[]);return a.a.createElement("li",{ref:i,className:"tag".concat(t.isSelected?" tag--selected":"")},a.a.createElement("label",{id:e,htmlFor:"".concat(t.tag.name,"-input"),className:"tag-content",onClick:r},a.a.createElement("input",{id:"".concat(t.tag,"-input"),type:"checkbox"}),t.tag.name))}),w=function(t){var e=t.tags.map(function(e){return a.a.createElement(y,{key:e.id,tag:e,onClick:t.selectTag,isSelected:t.selectedTags.has(e.name)})});return a.a.createElement("ul",{className:"horizontal-list"},e)},b=function(t){return g.collection(t).get().then(function(t){var e=[];return t.forEach(function(t){e.push(Object(l.a)({id:t.id},t.data()))}),e})},k=function(t,e){if(0===t.size)return e;var i,n,a=(n=t,function(t){return n.has(t)});return e.filter((i=a,function(t){return t.tags.some(i)}))},_=function(t){var e=t.initialDesigners,i=void 0===e?[]:e,s=t.initialTags,r=void 0===s?[]:s,l=Object(n.useState)(null),h=Object(o.a)(l,2),d=h[0],m=h[1],p=Object(n.useState)(i),g=Object(o.a)(p,2),v=g[0],x=g[1],y=Object(n.useState)(r),_=Object(o.a)(y,2),E=_[0],P=_[1],S=Object(n.useState)(new Map),M=Object(o.a)(S,2),A=M[0],O=M[1],I=Object(n.useCallback)(function(t){A.has(t.name)?A.delete(t.name):A.set(t.name,t),O(new Map(A))},[]);Object(n.useEffect)(function(){b("tags").then(P).catch(m)},[]),Object(n.useEffect)(function(){b("people").then(x).catch(m)},[]);var j=Object(n.useCallback)(k,[A,v])(A,v);return a.a.createElement("main",{className:"App"},a.a.createElement("header",{className:"margin-bottom-regular"},a.a.createElement("img",{alt:"Designers of Vietnam",src:c.a}),a.a.createElement("a",{href:"#"},a.a.createElement("span",{className:"translate-y-50 float-right"},"\ud83d\udef5")),a.a.createElement("a",{href:"#"},a.a.createElement("span",{className:"translate-y-50 float-right margin-right-regular"},"\ud83c\uddfb\ud83c\uddf3 "))),a.a.createElement("section",null,a.a.createElement(w,{tags:E,selectTag:I,selectedTags:A})),a.a.createElement("section",null,d&&j===[]&&a.a.createElement(u,null),a.a.createElement(f,{designers:j})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},63:function(t,e,i){t.exports=i.p+"static/media/title.75026cdf.svg"},65:function(t,e,i){t.exports=i(151)},70:function(t,e,i){},71:function(t,e,i){}},[[65,1,2]]]);
//# sourceMappingURL=main.ab495733.chunk.js.map